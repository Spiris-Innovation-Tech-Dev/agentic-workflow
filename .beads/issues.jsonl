{"id":"AW-0l9","title":"Validate beads/Jira state before returning commands","description":"crew_format_completion returns shell commands like 'bd close ISSUE_KEY' without validating that the issue exists or the transition is valid. Add pre-validation: check issue exists, check current status allows the target transition. Warn if invalid instead of returning commands that will fail.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-18T16:10:41.376130143+01:00","created_by":"johan","updated_at":"2026-02-18T16:10:41.376130143+01:00"}
{"id":"AW-10p","title":"F-key Norton Commander-style status bar","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T07:58:13.119944538+01:00","created_by":"johan","updated_at":"2026-02-19T08:10:06.282577871+01:00","closed_at":"2026-02-19T08:10:06.282577871+01:00","close_reason":"Closed"}
{"id":"AW-4jh","title":"Add /crew-stats metrics dashboard","description":"Cost tracking, agent performance, and error pattern data is collected but has no user-facing presentation. Add a /crew-stats command showing cost trends, agent precision, error hit rates, and mode distribution.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-13T11:10:49.410924703+01:00","created_by":"johan","updated_at":"2026-02-13T11:10:49.410924703+01:00"}
{"id":"AW-6e5","title":"Copy workflow config to worktrees on creation","description":"setup-worktree.py only copies .claude/settings.local.json to worktrees but not .claude/workflow-config.yaml. Untracked project-level config overrides are missing in worktrees. Need to copy or symlink workflow config for all platforms (.claude/, .copilot/, .gemini/) alongside existing settings copy step.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-19T16:20:44.103962448+01:00","created_by":"johan","updated_at":"2026-02-19T16:27:22.951721643+01:00","closed_at":"2026-02-19T16:27:22.951721643+01:00","close_reason":"Added workflow config copy step to setup-worktree.py after settings copy. Copies .claude/.copilot/.gemini workflow-config.yaml from main repo to worktree if present and not already there."}
{"id":"AW-9mx","title":"Enhanced history view with full state.json details","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-02-19T07:58:15.793267504+01:00","created_by":"johan","updated_at":"2026-02-19T08:10:06.358461932+01:00","closed_at":"2026-02-19T08:10:06.358461932+01:00","close_reason":"Closed"}
{"id":"AW-b41","title":"Ship task templates for common patterns","description":"The --task \u003cfile\u003e pattern is underused. Ship 4-5 example task files (migration, refactor, new-endpoint, bug-fix, new-feature) in examples/tasks/ that users can reference or adapt with /crew --task.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-13T11:10:42.61109152+01:00","created_by":"johan","updated_at":"2026-02-13T11:10:42.61109152+01:00"}
{"id":"AW-bfd","title":"Add concurrent workflow guard per task","description":"FileLock on state.json prevents data corruption but two simultaneous /crew commands on the same task are not guarded against. Add a task-level lockfile (beyond state.json) that prevents two orchestrators from running the same task simultaneously. Should warn the user if a workflow is already active for the task.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-18T16:10:31.196978762+01:00","created_by":"johan","updated_at":"2026-02-18T16:10:31.196978762+01:00"}
{"id":"AW-el3","title":"Add error pattern JSONL rotation","description":"The .tasks/.error_patterns.jsonl file is append-only with no size limit or rotation. A loop that generates many errors could grow this indefinitely. Fix: cap at 500 entries with oldest-first eviction. File: mcp/agentic-workflow-server/ state_tools.py, workflow_record_error_pattern function.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-18T16:10:24.673702816+01:00","created_by":"johan","updated_at":"2026-02-18T16:10:24.673702816+01:00"}
{"id":"AW-fgj","title":"Extract orchestrator loop into a Python script","description":"Move the ~200-line /crew orchestrator prompt into a deterministic Python script. The main loop (crew_parse_args → crew_init_task → loop(crew_get_next_phase → spawn agent → crew_parse_agent_output) → crew_format_completion) should be code, not natural language instructions for the LLM. MCP tools already exist — just need routing/sequencing extracted from the prompt. Enables unit testing of orchestration, eliminates LLM misinterpretation risk, faster execution.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-02-18T16:10:18.131947643+01:00","created_by":"johan","updated_at":"2026-02-18T16:15:26.205104134+01:00"}
{"id":"AW-gwq","title":"Add KB listing timeout to prevent init stalling","description":"workflow_set_kb_inventory uses rglob() on the knowledge base path with no timeout. If the KB path points at a huge directory tree, initialization stalls. Add a 10-second timeout that aborts listing and continues with partial results or empty inventory. File: mcp/agentic-workflow-server/ state_tools.py.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-18T16:10:47.58333095+01:00","created_by":"johan","updated_at":"2026-02-18T16:10:47.58333095+01:00"}
{"id":"AW-hqi","title":"Smarter auto-detection using file scope analysis","description":"Current mode auto-detection is keyword-based string matching. Enhance workflow_detect_mode to analyze actual file scope (git diff stats, directory count, cross-module changes) instead of just task description keywords.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-13T11:10:56.121576631+01:00","created_by":"johan","updated_at":"2026-02-13T11:10:56.121576631+01:00"}
{"id":"AW-m1k","title":"Add security-specific tests for MCP tools","description":"Current 432 tests cover functionality well but lack security-specific test cases. Add tests for: path traversal attempts in task_id, shell injection in branch names and worktree paths, oversized input handling (huge task descriptions, massive error messages), symlink escape in KB listing. Validates existing safety properties and catches regressions.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-18T16:10:53.796909096+01:00","created_by":"johan","updated_at":"2026-02-18T16:10:53.796909096+01:00"}
{"id":"AW-o93","title":"Esc should never quit the application","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-19T07:58:14.442925623+01:00","created_by":"johan","updated_at":"2026-02-19T08:10:06.319899319+01:00","closed_at":"2026-02-19T08:10:06.319899319+01:00","close_reason":"Closed"}
{"id":"AW-q91","title":"Support custom workflow modes from config in orchestrator","description":"workflow_set_mode() only knows hardcoded WORKFLOW_MODES dict, ignoring workflow_modes.modes from workflow-config.yaml. _can_transition() rejects agents not in hardcoded PHASE_ORDER. Need to: 1) Read custom modes from config via config_get_effective, 2) Allow _can_transition to validate against mode phases, 3) Make agent prompt resolution fully dynamic.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-02-19T16:20:38.302181815+01:00","created_by":"johan","updated_at":"2026-02-19T16:27:17.086639688+01:00","closed_at":"2026-02-19T16:27:17.086639688+01:00","close_reason":"Added _resolve_mode() and _get_all_mode_names() helpers to read custom modes from workflow-config.yaml. Updated _can_transition() to accept custom phases from mode's phase list. Updated workflow_set_mode() to resolve modes from config. Updated _build_phase_action() to read max_turns from config."}
{"id":"AW-rft","title":"Extract crew.md orchestration into Python/MCP code","description":"The crew.md orchestrator prompt is ~600 lines doing argument parsing, state management, agent spawning, checkpoint logic, error handling, and beads integration. Extract into Python/MCP tools for testability, debuggability, and lower context cost.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-02-13T11:10:38.260178883+01:00","created_by":"johan","updated_at":"2026-02-13T11:38:19.806426708+01:00"}
{"id":"AW-zc4","title":"Make checkpoint invocation deterministic and config-driven","description":"Checkpoint presentation is currently interpreted by the LLM from the orchestrator prompt. Move to deterministic code: if config.checkpoints[after_{phase}] is true AND concerns exist above threshold, present checkpoint. Ensures human review is never accidentally skipped due to LLM misinterpretation. Ties into action item #1 (orchestrator script).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-18T16:10:37.550943128+01:00","created_by":"johan","updated_at":"2026-02-18T16:10:37.550943128+01:00","dependencies":[{"issue_id":"AW-zc4","depends_on_id":"AW-fgj","type":"blocks","created_at":"2026-02-18T16:11:14.363015976+01:00","created_by":"johan"}]}
